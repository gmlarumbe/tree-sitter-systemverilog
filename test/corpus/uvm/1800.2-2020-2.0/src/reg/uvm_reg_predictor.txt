============================================
uvm/1800.2-2020-2.0/src/reg/uvm_reg_predictor
============================================

//
// -------------------------------------------------------------
// Copyright 2012 Accellera Systems Initiative
// Copyright 2010-2018 Cadence Design Systems, Inc.
// Copyright 2022 Marvell International Ltd.
// Copyright 2020 Mentor Graphics Corporation
// Copyright 2014-2020 NVIDIA Corporation
// Copyright 2014-2022 Semifore
// Copyright 2004-2011 Synopsys, Inc.
//    All Rights Reserved Worldwide
//
//    Licensed under the Apache License, Version 2.0 (the
//    "License"); you may not use this file except in
//    compliance with the License.  You may obtain a copy of
//    the License at
//
//        http://www.apache.org/licenses/LICENSE-2.0
//
//    Unless required by applicable law or agreed to in
//    writing, software distributed under the License is
//    distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
//    CONDITIONS OF ANY KIND, either express or implied.  See
//    the License for the specific language governing
//    permissions and limitations under the License.
// -------------------------------------------------------------
//


//------------------------------------------------------------------------------
// TITLE -- NODOCS -- Explicit Register Predictor
//------------------------------------------------------------------------------
//
// The <uvm_reg_predictor> class defines a predictor component,
// which is used to update the register model's mirror values
// based on transactions explicitly observed on a physical bus. 
//------------------------------------------------------------------------------

class uvm_predict_s;
   bit addr[uvm_reg_addr_t];
   uvm_reg_item reg_item;
endclass

//------------------------------------------------------------------------------
//
// CLASS -- NODOCS -- uvm_reg_predictor
//
// Updates the register model mirror based on observed bus transactions
//
// This class converts observed bus transactions of type ~BUSTYPE~ to generic
// registers transactions, determines the register being accessed based on the
// bus address, then updates the register's mirror value with the observed bus
// data, subject to the register's access mode. See <uvm_reg::predict> for details.
//
// Memories can be large, so their accesses are not predicted.
//
//------------------------------------------------------------------------------

//----------------------------------------------------------------------
// Class: uvm_reg_predictor
//
// The library implements the following public API beyond what is 
// documented in 1800.2.
//----------------------------------------------------------------------


// @uvm-ieee 1800.2-2020 auto 19.3.1
class uvm_reg_predictor #(type BUSTYPE=int) extends uvm_component;

  `uvm_component_param_utils(uvm_reg_predictor#(BUSTYPE))

  // Variable -- NODOCS -- bus_in
  //
  // Observed bus transactions of type ~BUSTYPE~ are received from this
  // port and processed.
  //
  // For each incoming transaction, the predictor will attempt to get the
  // register or memory handle corresponding to the observed bus address. 
  //
  // If there is a match, the predictor calls the register or memory's
  // predict method, passing in the observed bus data. The register or
  // memory mirror will be updated with this data, subject to its configured
  // access behavior--RW, RO, WO, etc. The predictor will also convert the
  // bus transaction to a generic <uvm_reg_item> and send it out the
  // ~reg_ap~ analysis port.
  //
  // If the register is wider than the bus, the
  // predictor will collect the multiple bus transactions needed to
  // determine the value being read or written.
  //
  uvm_analysis_imp #(BUSTYPE, uvm_reg_predictor #(BUSTYPE)) bus_in;


  // Variable -- NODOCS -- reg_ap
  //
  // Analysis output port that publishes <uvm_reg_item> transactions
  // converted from bus transactions received on ~bus_in~.
  uvm_analysis_port #(uvm_reg_item) reg_ap;


  // Variable -- NODOCS -- map
  //
  // The map used to convert a bus address to the corresponding register
  // or memory handle. Must be configured before the run phase.
  // 
  uvm_reg_map map;


  // Variable -- NODOCS -- adapter
  //
  // The adapter used to convey the parameters of a bus operation in 
  // terms of a canonical <uvm_reg_bus_op> datum.
  // The <uvm_reg_adapter> must be configured before the run phase.
  //
  uvm_reg_adapter adapter;



  // @uvm-ieee 1800.2-2020 auto 19.3.3.1
  function new (string name, uvm_component parent);
    super.new(name, parent);
    bus_in = new("bus_in", this);
    reg_ap = new("reg_ap", this);
  endfunction

  // This method is documented in uvm_object
  // TODO:  Is it better to replace this with:
  //| `uvm_type_name_decl($sformatf("uvm_reg_predictor #(%s)", BUSTYPE::type_name())
  static function string type_name();
    static string m_type_name;
    if (m_type_name == "") begin
      BUSTYPE t;
      t = BUSTYPE::type_id::create("t");
      m_type_name = {"uvm_reg_predictor #(", t.get_type_name(), ")"};
    end
    return m_type_name;
  endfunction // type_name
  virtual function string get_type_name();
    return type_name();
  endfunction : get_type_name

  // @uvm-ieee 1800.2-2020 auto 19.3.3.2
  virtual function void pre_predict(uvm_reg_item rw);
  endfunction

  local uvm_predict_s m_pending[uvm_reg];


  // Function- write
  //
  // not a user-level method. Do not call directly. See documentation
  // for the ~bus_in~ member.
  //
  virtual function void write(BUSTYPE tr);
     uvm_reg rg;
     uvm_reg_bus_op rw;
    if (adapter == null)
     `uvm_fatal("REG/WRITE/NULL","write: adapter handle is null") 

     // In case they forget to set byte_en
     rw.byte_en = -1;
     adapter.bus2reg(tr,rw);
     rg = map.get_reg_by_offset(rw.addr, (rw.kind == UVM_READ));

     // ToDo: Add memory look-up and call <uvm_mem::XsampleX()>

     if (rg != null) begin
       bit found;
       uvm_reg_item reg_item;
       uvm_reg_map local_map;
       uvm_reg_map_info map_info;
       uvm_predict_s predict_info;
       uvm_reg_indirect_data ireg;
       uvm_reg ir;
 
       if (!m_pending.exists(rg)) begin
         uvm_reg_item item = new;
         predict_info =new;
         item.set_element_kind(UVM_REG);
         item.set_element(rg);
         item.set_door(UVM_PREDICT);
         item.set_map(map);
         item.set_kind(rw.kind);
         item.set_status(rw.status);
         predict_info.reg_item = item;
         m_pending[rg] = predict_info;
       end
       predict_info = m_pending[rg];
       reg_item = predict_info.reg_item;

       if (predict_info.addr.exists(rw.addr)) begin
          `uvm_error("REG_PREDICT_COLLISION",{"Collision detected for register '",
                     rg.get_full_name(),"'"})
          // TODO: what to do with subsequent collisions?
          m_pending.delete(rg);
       end

       local_map = rg.get_local_map(map);
       map_info = local_map.get_reg_map_info(rg);
       ir=($cast(ireg, rg))?ireg.get_indirect_reg():rg;

       foreach (map_info.addr[i]) begin
         uvm_reg_data_t reg_item_value;
         if (rw.addr == map_info.addr[i]) begin
            found = 1;
           reg_item_value = reg_item.get_value(0);
           reg_item_value |= rw.data << (i * map.get_n_bytes()*8);
           reg_item.set_value(reg_item_value, 0);
           predict_info.addr[rw.addr] = 1;
           if (predict_info.addr.num() == map_info.addr.size()) begin
              // We've captured the entire abstract register transaction.
              uvm_predict_e predict_kind = 
                  (reg_item.get_kind() == UVM_WRITE) ? UVM_PREDICT_WRITE : UVM_PREDICT_READ;

              if (reg_item.get_kind() == UVM_READ &&
                  local_map.get_check_on_read() &&
                  reg_item.get_status() != UVM_NOT_OK) begin
                 void'(rg.do_check(ir.get_mirrored_value(), reg_item.get_value(0), local_map));
              end
              
              pre_predict(reg_item);

              ir.XsampleX(reg_item.get_value(0), rw.byte_en,
                          (reg_item.get_kind() == UVM_READ), local_map);
              begin
                 uvm_reg_block blk = rg.get_parent();
                 blk.XsampleX(map_info.offset,
                              (reg_item.get_kind() == UVM_READ),
                              local_map);
              end

              rg.do_predict(reg_item, predict_kind, rw.byte_en);
              if(reg_item.get_kind() == UVM_WRITE)
                `uvm_info("REG_PREDICT", {"Observed WRITE transaction to register ",
                         ir.get_full_name(), ": value='h",
                         $sformatf("%0h",reg_item.get_value(0)), " : updated value = 'h", 
                         $sformatf("%0h",ir.get())},UVM_HIGH)
              else
                `uvm_info("REG_PREDICT", {"Observed READ transaction to register ",
                         ir.get_full_name(), ": value='h",
                         $sformatf("%0h",reg_item.get_value(0))},UVM_HIGH)
              reg_ap.write(reg_item);
              m_pending.delete(rg);
           end
           break;
         end
       end
       if (!found)
         `uvm_error("REG_PREDICT_INTERNAL",{"Unexpected failed address lookup for register '",
                  rg.get_full_name(),"'"})
     end
     else begin
       `uvm_info("REG_PREDICT_NOT_FOR_ME",
          {"Observed transaction does not target a register: ",
            $sformatf("%p",tr)},UVM_FULL)
     end
  endfunction

  
  // Function -- NODOCS -- check_phase
  //
  // Checks that no pending register transactions are still queued.

  // @uvm-ieee 1800.2-2020 auto 19.3.3.3
  virtual function void check_phase(uvm_phase phase);
	 string q[$];
     super.check_phase(phase);
            
     foreach (m_pending[l]) begin
	     uvm_reg rg=l;
         q.push_back($sformatf("\n%s",rg.get_full_name()));
     end
            
    if (m_pending.num() > 0) begin
      `uvm_error("PENDING REG ITEMS",
      	$sformatf("There are %0d incomplete register transactions still pending completion:%s",m_pending.num(),`UVM_STRING_QUEUE_STREAMING_PACK(q)))

    end
  endfunction

  // Function: flush
  //
  // Clear the state of the predictor including the pending writes.
  //
  // @uvm-contrib This API is being considered for potential contribution to 1800.2
  virtual function void flush(); 
    m_pending.delete();
  endfunction

endclass

----

(source_file
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (class_declaration
    name: (simple_identifier)
    (class_item
      (class_property
        (data_declaration
          (data_type_or_implicit
            (data_type
              (integer_vector_type)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier)
              (unpacked_dimension
                (constant_expression
                  (constant_primary
                    (simple_identifier)))))))))
    (class_item
      (class_property
        (data_declaration
          (data_type_or_implicit
            (data_type
              (simple_identifier)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier)))))))
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (one_line_comment)
  (class_declaration
    name: (simple_identifier)
    (parameter_port_list
      (parameter_port_declaration
        (type_parameter_declaration
          (list_of_type_assignments
            (type_assignment
              name: (simple_identifier)
              value: (data_type
                (integer_atom_type)))))))
    (class_type
      (simple_identifier))
    (class_item
      (text_macro_usage
        (simple_identifier)
        (list_of_actual_arguments
          (actual_argument
            (param_expression
              (data_type
                (class_type
                  (simple_identifier)
                  (parameter_value_assignment
                    (list_of_parameter_value_assignments
                      (ordered_parameter_assignment
                        (param_expression
                          (mintypmax_expression
                            (expression
                              (primary
                                (hierarchical_identifier
                                  (simple_identifier))))))))))))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (class_item
      (class_property
        (data_declaration
          (data_type_or_implicit
            (data_type
              (class_type
                (simple_identifier)
                (parameter_value_assignment
                  (list_of_parameter_value_assignments
                    (ordered_parameter_assignment
                      (param_expression
                        (mintypmax_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier)))))))
                    (ordered_parameter_assignment
                      (param_expression
                        (data_type
                          (class_type
                            (simple_identifier)
                            (parameter_value_assignment
                              (list_of_parameter_value_assignments
                                (ordered_parameter_assignment
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (hierarchical_identifier
                                            (simple_identifier))))))))))))))))))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (class_item
      (class_property
        (data_declaration
          (data_type_or_implicit
            (data_type
              (class_type
                (simple_identifier)
                (parameter_value_assignment
                  (list_of_parameter_value_assignments
                    (ordered_parameter_assignment
                      (param_expression
                        (mintypmax_expression
                          (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))))))))))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (class_item
      (class_property
        (data_declaration
          (data_type_or_implicit
            (data_type
              (simple_identifier)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (class_item
      (class_property
        (data_declaration
          (data_type_or_implicit
            (data_type
              (simple_identifier)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier))))))
    (one_line_comment)
    (class_item
      (class_method
        (class_constructor_declaration
          (class_constructor_arg_list
            (class_constructor_arg
              (tf_port_item
                (data_type_or_implicit
                  (data_type))
                name: (simple_identifier)))
            (class_constructor_arg
              (tf_port_item
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                name: (simple_identifier))))
          (list_of_arguments
            (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier))))
            (expression
              (primary
                (hierarchical_identifier
                  (simple_identifier)))))
          (function_statement_or_null
            (function_statement
              (statement
                (statement_item
                  (blocking_assignment
                    (hierarchical_identifier
                      (simple_identifier))
                    (class_new
                      (list_of_arguments
                        (expression
                          (primary
                            (primary_literal
                              (string_literal
                                (quoted_string
                                  (quoted_string_item))))))
                        (expression
                          (primary)))))))))
          (function_statement_or_null
            (function_statement
              (statement
                (statement_item
                  (blocking_assignment
                    (hierarchical_identifier
                      (simple_identifier))
                    (class_new
                      (list_of_arguments
                        (expression
                          (primary
                            (primary_literal
                              (string_literal
                                (quoted_string
                                  (quoted_string_item))))))
                        (expression
                          (primary))))))))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (class_item
      (class_method
        (method_qualifier
          (class_item_qualifier))
        (function_declaration
          (function_body_declaration
            (data_type_or_void
              (data_type))
            name: (simple_identifier)
            (block_item_declaration
              (data_declaration
                (lifetime)
                (data_type_or_implicit
                  (data_type))
                (list_of_variable_decl_assignments
                  (variable_decl_assignment
                    name: (simple_identifier)))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary
                              (primary_literal
                                (string_literal
                                  (quoted_string)))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type
                                      (simple_identifier)))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (function_subroutine_call
                                              (subroutine_call
                                                (method_call
                                                  (primary
                                                    (function_subroutine_call
                                                      (subroutine_call
                                                        (method_call
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)))
                                                          (method_call_body
                                                            name: (simple_identifier))))))
                                                  (method_call_body
                                                    name: (simple_identifier)
                                                    arguments: (list_of_arguments
                                                      (expression
                                                        (primary
                                                          (primary_literal
                                                            (string_literal
                                                              (quoted_string
                                                                (quoted_string_item))))))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (concatenation
                                              (expression
                                                (primary
                                                  (primary_literal
                                                    (string_literal
                                                      (quoted_string
                                                        (quoted_string_item))))))
                                              (expression
                                                (primary
                                                  (function_subroutine_call
                                                    (subroutine_call
                                                      (tf_call
                                                        (hierarchical_identifier
                                                          (simple_identifier)
                                                          (simple_identifier)))))))
                                              (expression
                                                (primary
                                                  (primary_literal
                                                    (string_literal
                                                      (quoted_string
                                                        (quoted_string_item)))))))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (jump_statement
                      (expression
                        (primary
                          (hierarchical_identifier
                            (simple_identifier)))))))))))))
    (one_line_comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void
              (data_type))
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (jump_statement
                      (expression
                        (primary
                          (function_subroutine_call
                            (subroutine_call
                              (tf_call
                                (hierarchical_identifier
                                  (simple_identifier))))))))))))
            (simple_identifier)))))
    (one_line_comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void)
            name: (simple_identifier)
            (tf_port_list
              (tf_port_item
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                name: (simple_identifier)))))))
    (class_item
      (class_property
        (class_item_qualifier)
        (data_declaration
          (data_type_or_implicit
            (data_type
              (simple_identifier)))
          (list_of_variable_decl_assignments
            (variable_decl_assignment
              name: (simple_identifier)
              (unpacked_dimension
                (constant_expression
                  (constant_primary
                    (simple_identifier)))))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void)
            name: (simple_identifier)
            (tf_port_list
              (tf_port_item
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                name: (simple_identifier)))
            (block_item_declaration
              (data_declaration
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                (list_of_variable_decl_assignments
                  (variable_decl_assignment
                    name: (simple_identifier)))))
            (block_item_declaration
              (data_declaration
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                (list_of_variable_decl_assignments
                  (variable_decl_assignment
                    name: (simple_identifier)))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (text_macro_usage
                              (simple_identifier)
                              (list_of_actual_arguments
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string
                                                (quoted_string_item)))))))))
                                (actual_argument
                                  (param_expression
                                    (mintypmax_expression
                                      (expression
                                        (primary
                                          (primary_literal
                                            (string_literal
                                              (quoted_string
                                                (quoted_string_item)))))))))))))))))))
            (one_line_comment)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (simple_identifier)
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          operator: (unary_operator)
                          argument: (primary
                            (primary_literal
                              (integral_number
                                (decimal_number
                                  (unsigned_number))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (subroutine_call_statement
                      (subroutine_call
                        (tf_call
                          (hierarchical_identifier
                            (simple_identifier)
                            (simple_identifier))
                          (list_of_arguments
                            (expression
                              (primary
                                (hierarchical_identifier
                                  (simple_identifier))))
                            (expression
                              (primary
                                (hierarchical_identifier
                                  (simple_identifier))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (blocking_assignment
                      (operator_assignment
                        (variable_lvalue
                          (hierarchical_identifier
                            (simple_identifier)))
                        (assignment_operator)
                        (expression
                          (primary
                            (function_subroutine_call
                              (subroutine_call
                                (tf_call
                                  (hierarchical_identifier
                                    (simple_identifier)
                                    (simple_identifier))
                                  (list_of_arguments
                                    (expression
                                      (primary
                                        (hierarchical_identifier
                                          (simple_identifier)
                                          (simple_identifier))))
                                    (expression
                                      (primary
                                        (mintypmax_expression
                                          (expression
                                            left: (expression
                                              (primary
                                                (function_subroutine_call
                                                  (subroutine_call
                                                    (method_call
                                                      (primary
                                                        (hierarchical_identifier
                                                          (simple_identifier)))
                                                      (method_call_body
                                                        name: (simple_identifier)))))))
                                            right: (expression
                                              (primary
                                                (hierarchical_identifier
                                                  (simple_identifier))))))))))))))))))))
            (one_line_comment)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (hierarchical_identifier
                                (simple_identifier))))
                          right: (expression
                            (primary))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type
                                      (integer_vector_type)))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)))))
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type
                                      (simple_identifier)))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)))))
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type
                                      (simple_identifier)))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)))))
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type
                                      (simple_identifier)))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)))))
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type
                                      (simple_identifier)))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)))))
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type
                                      (simple_identifier)))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)))))
                              (block_item_declaration
                                (data_declaration
                                  (data_type_or_implicit
                                    (data_type
                                      (simple_identifier)))
                                  (list_of_variable_decl_assignments
                                    (variable_decl_assignment
                                      name: (simple_identifier)))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          operator: (unary_operator)
                                          argument: (primary
                                            (function_subroutine_call
                                              (subroutine_call
                                                (method_call
                                                  (primary
                                                    (hierarchical_identifier
                                                      (simple_identifier)))
                                                  (method_call_body
                                                    (associative_array_method_call
                                                      (associative_array_method_name)
                                                      (list_of_arguments
                                                        (expression
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)))))))))))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (seq_block
                                              (block_item_declaration
                                                (data_declaration
                                                  (data_type_or_implicit
                                                    (data_type
                                                      (simple_identifier)))
                                                  (list_of_variable_decl_assignments
                                                    (variable_decl_assignment
                                                      name: (simple_identifier)
                                                      (class_new)))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (blocking_assignment
                                                      (hierarchical_identifier
                                                        (simple_identifier))
                                                      (class_new)))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (subroutine_call_statement
                                                      (subroutine_call
                                                        (tf_call
                                                          (hierarchical_identifier
                                                            (simple_identifier)
                                                            (simple_identifier))
                                                          (list_of_arguments
                                                            (expression
                                                              (primary
                                                                (hierarchical_identifier
                                                                  (simple_identifier)))))))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (subroutine_call_statement
                                                      (subroutine_call
                                                        (tf_call
                                                          (hierarchical_identifier
                                                            (simple_identifier)
                                                            (simple_identifier))
                                                          (list_of_arguments
                                                            (expression
                                                              (primary
                                                                (hierarchical_identifier
                                                                  (simple_identifier)))))))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (subroutine_call_statement
                                                      (subroutine_call
                                                        (tf_call
                                                          (hierarchical_identifier
                                                            (simple_identifier)
                                                            (simple_identifier))
                                                          (list_of_arguments
                                                            (expression
                                                              (primary
                                                                (hierarchical_identifier
                                                                  (simple_identifier)))))))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (subroutine_call_statement
                                                      (subroutine_call
                                                        (tf_call
                                                          (hierarchical_identifier
                                                            (simple_identifier)
                                                            (simple_identifier))
                                                          (list_of_arguments
                                                            (expression
                                                              (primary
                                                                (hierarchical_identifier
                                                                  (simple_identifier)))))))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (subroutine_call_statement
                                                      (subroutine_call
                                                        (tf_call
                                                          (hierarchical_identifier
                                                            (simple_identifier)
                                                            (simple_identifier))
                                                          (list_of_arguments
                                                            (expression
                                                              (primary
                                                                (hierarchical_identifier
                                                                  (simple_identifier)
                                                                  (simple_identifier)))))))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (subroutine_call_statement
                                                      (subroutine_call
                                                        (tf_call
                                                          (hierarchical_identifier
                                                            (simple_identifier)
                                                            (simple_identifier))
                                                          (list_of_arguments
                                                            (expression
                                                              (primary
                                                                (hierarchical_identifier
                                                                  (simple_identifier)
                                                                  (simple_identifier)))))))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (blocking_assignment
                                                      (operator_assignment
                                                        (variable_lvalue
                                                          (hierarchical_identifier
                                                            (simple_identifier)
                                                            (simple_identifier)))
                                                        (assignment_operator)
                                                        (expression
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)))))))))
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (blocking_assignment
                                                      (operator_assignment
                                                        (variable_lvalue
                                                          (hierarchical_identifier
                                                            (simple_identifier))
                                                          (select
                                                            (bit_select
                                                              (expression
                                                                (primary
                                                                  (hierarchical_identifier
                                                                    (simple_identifier)))))))
                                                        (assignment_operator)
                                                        (expression
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)))))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier))
                                            (select
                                              (bit_select
                                                (expression
                                                  (primary
                                                    (hierarchical_identifier
                                                      (simple_identifier)))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (hierarchical_identifier
                                              (simple_identifier)
                                              (simple_identifier)))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          (primary
                                            (function_subroutine_call
                                              (subroutine_call
                                                (method_call
                                                  (primary
                                                    (function_subroutine_call
                                                      (subroutine_call
                                                        (method_call
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)))
                                                          (method_call_body
                                                            name: (simple_identifier))))))
                                                  (method_call_body
                                                    (associative_array_method_call
                                                      (associative_array_method_name)
                                                      (list_of_arguments
                                                        (expression
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)
                                                              (simple_identifier)))))))))))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (seq_block
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (text_macro_usage
                                                      (simple_identifier)
                                                      (list_of_actual_arguments
                                                        (actual_argument
                                                          (param_expression
                                                            (mintypmax_expression
                                                              (expression
                                                                (primary
                                                                  (primary_literal
                                                                    (string_literal
                                                                      (quoted_string
                                                                        (quoted_string_item)))))))))
                                                        (actual_argument
                                                          (param_expression
                                                            (mintypmax_expression
                                                              (expression
                                                                (primary
                                                                  (concatenation
                                                                    (expression
                                                                      (primary
                                                                        (primary_literal
                                                                          (string_literal
                                                                            (quoted_string
                                                                              (quoted_string_item))))))
                                                                    (expression
                                                                      (primary
                                                                        (function_subroutine_call
                                                                          (subroutine_call
                                                                            (tf_call
                                                                              (hierarchical_identifier
                                                                                (simple_identifier)
                                                                                (simple_identifier)))))))
                                                                    (expression
                                                                      (primary
                                                                        (primary_literal
                                                                          (string_literal
                                                                            (quoted_string
                                                                              (quoted_string_item)))))))))))))))))
                                              (one_line_comment)
                                              (statement_or_null
                                                (statement
                                                  (statement_item
                                                    (subroutine_call_statement
                                                      (subroutine_call
                                                        (method_call
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)))
                                                          (method_call_body
                                                            (array_or_queue_method_call
                                                              (array_or_queue_method_name)
                                                              (list_of_arguments
                                                                (expression
                                                                  (primary
                                                                    (hierarchical_identifier
                                                                      (simple_identifier)))))))))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (function_subroutine_call
                                              (subroutine_call
                                                (tf_call
                                                  (hierarchical_identifier
                                                    (simple_identifier)
                                                    (simple_identifier))
                                                  (list_of_arguments
                                                    (expression
                                                      (primary
                                                        (hierarchical_identifier
                                                          (simple_identifier)))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (primary
                                            (function_subroutine_call
                                              (subroutine_call
                                                (tf_call
                                                  (hierarchical_identifier
                                                    (simple_identifier)
                                                    (simple_identifier))
                                                  (list_of_arguments
                                                    (expression
                                                      (primary
                                                        (hierarchical_identifier
                                                          (simple_identifier)))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (blocking_assignment
                                      (operator_assignment
                                        (variable_lvalue
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (assignment_operator)
                                        (expression
                                          (conditional_expression
                                            (expression
                                              (primary
                                                (mintypmax_expression
                                                  (expression
                                                    (primary
                                                      (function_subroutine_call
                                                        (subroutine_call
                                                          (system_tf_call
                                                            (system_tf_identifier)
                                                            (list_of_arguments
                                                              (expression
                                                                (primary
                                                                  (hierarchical_identifier
                                                                    (simple_identifier))))
                                                              (expression
                                                                (primary
                                                                  (hierarchical_identifier
                                                                    (simple_identifier)))))))))))))
                                            (expression
                                              (primary
                                                (function_subroutine_call
                                                  (subroutine_call
                                                    (tf_call
                                                      (hierarchical_identifier
                                                        (simple_identifier)
                                                        (simple_identifier)))))))
                                            (expression
                                              (primary
                                                (hierarchical_identifier
                                                  (simple_identifier)))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (loop_statement
                                      (hierarchical_identifier
                                        (simple_identifier)
                                        (simple_identifier))
                                      (loop_variables
                                        (simple_identifier))
                                      (statement
                                        (statement_item
                                          (seq_block
                                            (block_item_declaration
                                              (data_declaration
                                                (data_type_or_implicit
                                                  (data_type
                                                    (simple_identifier)))
                                                (list_of_variable_decl_assignments
                                                  (variable_decl_assignment
                                                    name: (simple_identifier)))))
                                            (statement_or_null
                                              (statement
                                                (statement_item
                                                  (conditional_statement
                                                    (cond_predicate
                                                      (expression
                                                        left: (expression
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)
                                                              (simple_identifier))))
                                                        right: (expression
                                                          (primary
                                                            (hierarchical_identifier
                                                              (simple_identifier)
                                                              (simple_identifier))
                                                            (select
                                                              (bit_select
                                                                (expression
                                                                  (primary
                                                                    (hierarchical_identifier
                                                                      (simple_identifier))))))))))
                                                    (statement_or_null
                                                      (statement
                                                        (statement_item
                                                          (seq_block
                                                            (statement_or_null
                                                              (statement
                                                                (statement_item
                                                                  (blocking_assignment
                                                                    (operator_assignment
                                                                      (variable_lvalue
                                                                        (hierarchical_identifier
                                                                          (simple_identifier)))
                                                                      (assignment_operator)
                                                                      (expression
                                                                        (primary
                                                                          (primary_literal
                                                                            (integral_number
                                                                              (decimal_number
                                                                                (unsigned_number)))))))))))
                                                            (statement_or_null
                                                              (statement
                                                                (statement_item
                                                                  (blocking_assignment
                                                                    (operator_assignment
                                                                      (variable_lvalue
                                                                        (hierarchical_identifier
                                                                          (simple_identifier)))
                                                                      (assignment_operator)
                                                                      (expression
                                                                        (primary
                                                                          (function_subroutine_call
                                                                            (subroutine_call
                                                                              (tf_call
                                                                                (hierarchical_identifier
                                                                                  (simple_identifier)
                                                                                  (simple_identifier))
                                                                                (list_of_arguments
                                                                                  (expression
                                                                                    (primary
                                                                                      (primary_literal
                                                                                        (integral_number
                                                                                          (decimal_number
                                                                                            (unsigned_number)))))))))))))))))
                                                            (statement_or_null
                                                              (statement
                                                                (statement_item
                                                                  (blocking_assignment
                                                                    (operator_assignment
                                                                      (variable_lvalue
                                                                        (hierarchical_identifier
                                                                          (simple_identifier)))
                                                                      (assignment_operator)
                                                                      (expression
                                                                        left: (expression
                                                                          (primary
                                                                            (hierarchical_identifier
                                                                              (simple_identifier)
                                                                              (simple_identifier))))
                                                                        right: (expression
                                                                          (primary
                                                                            (mintypmax_expression
                                                                              (expression
                                                                                left: (expression
                                                                                  left: (expression
                                                                                    (primary
                                                                                      (hierarchical_identifier
                                                                                        (simple_identifier))))
                                                                                  right: (expression
                                                                                    (primary
                                                                                      (function_subroutine_call
                                                                                        (subroutine_call
                                                                                          (tf_call
                                                                                            (hierarchical_identifier
                                                                                              (simple_identifier)
                                                                                              (simple_identifier))))))))
                                                                                right: (expression
                                                                                  (primary
                                                                                    (primary_literal
                                                                                      (integral_number
                                                                                        (decimal_number
                                                                                          (unsigned_number))))))))))))))))
                                                            (statement_or_null
                                                              (statement
                                                                (statement_item
                                                                  (subroutine_call_statement
                                                                    (subroutine_call
                                                                      (tf_call
                                                                        (hierarchical_identifier
                                                                          (simple_identifier)
                                                                          (simple_identifier))
                                                                        (list_of_arguments
                                                                          (expression
                                                                            (primary
                                                                              (hierarchical_identifier
                                                                                (simple_identifier))))
                                                                          (expression
                                                                            (primary
                                                                              (primary_literal
                                                                                (integral_number
                                                                                  (decimal_number
                                                                                    (unsigned_number)))))))))))))
                                                            (statement_or_null
                                                              (statement
                                                                (statement_item
                                                                  (blocking_assignment
                                                                    (operator_assignment
                                                                      (variable_lvalue
                                                                        (hierarchical_identifier
                                                                          (simple_identifier)
                                                                          (simple_identifier))
                                                                        (select
                                                                          (bit_select
                                                                            (expression
                                                                              (primary
                                                                                (function_subroutine_call
                                                                                  (subroutine_call
                                                                                    (method_call
                                                                                      (primary
                                                                                        (hierarchical_identifier
                                                                                          (simple_identifier)))
                                                                                      (method_call_body
                                                                                        name: (simple_identifier))))))))))
                                                                      (assignment_operator)
                                                                      (expression
                                                                        (primary
                                                                          (primary_literal
                                                                            (integral_number
                                                                              (decimal_number
                                                                                (unsigned_number)))))))))))
                                                            (statement_or_null
                                                              (statement
                                                                (statement_item
                                                                  (conditional_statement
                                                                    (cond_predicate
                                                                      (expression
                                                                        left: (expression
                                                                          (primary
                                                                            (function_subroutine_call
                                                                              (subroutine_call
                                                                                (method_call
                                                                                  (primary
                                                                                    (function_subroutine_call
                                                                                      (subroutine_call
                                                                                        (method_call
                                                                                          (primary
                                                                                            (hierarchical_identifier
                                                                                              (simple_identifier)))
                                                                                          (method_call_body
                                                                                            name: (simple_identifier))))))
                                                                                  (method_call_body
                                                                                    (enum_or_associative_array_method_call
                                                                                      (enum_or_associative_array_method_name))))))))
                                                                        right: (expression
                                                                          (primary
                                                                            (function_subroutine_call
                                                                              (subroutine_call
                                                                                (method_call
                                                                                  (primary
                                                                                    (function_subroutine_call
                                                                                      (subroutine_call
                                                                                        (method_call
                                                                                          (primary
                                                                                            (hierarchical_identifier
                                                                                              (simple_identifier)))
                                                                                          (method_call_body
                                                                                            name: (simple_identifier))))))
                                                                                  (method_call_body
                                                                                    (array_or_queue_method_call
                                                                                      (array_or_queue_method_name))))))))))
                                                                    (statement_or_null
                                                                      (statement
                                                                        (statement_item
                                                                          (seq_block
                                                                            (one_line_comment)
                                                                            (block_item_declaration
                                                                              (data_declaration
                                                                                (data_type_or_implicit
                                                                                  (data_type
                                                                                    (simple_identifier)))
                                                                                (list_of_variable_decl_assignments
                                                                                  (variable_decl_assignment
                                                                                    name: (simple_identifier)
                                                                                    (expression
                                                                                      (conditional_expression
                                                                                        (expression
                                                                                          (primary
                                                                                            (mintypmax_expression
                                                                                              (expression
                                                                                                left: (expression
                                                                                                  (primary
                                                                                                    (function_subroutine_call
                                                                                                      (subroutine_call
                                                                                                        (method_call
                                                                                                          (primary
                                                                                                            (hierarchical_identifier
                                                                                                              (simple_identifier)))
                                                                                                          (method_call_body
                                                                                                            name: (simple_identifier)))))))
                                                                                                right: (expression
                                                                                                  (primary
                                                                                                    (hierarchical_identifier
                                                                                                      (simple_identifier))))))))
                                                                                        (expression
                                                                                          (primary
                                                                                            (hierarchical_identifier
                                                                                              (simple_identifier))))
                                                                                        (expression
                                                                                          (primary
                                                                                            (hierarchical_identifier
                                                                                              (simple_identifier))))))))))
                                                                            (statement_or_null
                                                                              (statement
                                                                                (statement_item
                                                                                  (conditional_statement
                                                                                    (cond_predicate
                                                                                      (expression
                                                                                        left: (expression
                                                                                          left: (expression
                                                                                            left: (expression
                                                                                              (primary
                                                                                                (function_subroutine_call
                                                                                                  (subroutine_call
                                                                                                    (tf_call
                                                                                                      (hierarchical_identifier
                                                                                                        (simple_identifier)
                                                                                                        (simple_identifier)))))))
                                                                                            right: (expression
                                                                                              (primary
                                                                                                (hierarchical_identifier
                                                                                                  (simple_identifier)))))
                                                                                          right: (expression
                                                                                            (primary
                                                                                              (function_subroutine_call
                                                                                                (subroutine_call
                                                                                                  (tf_call
                                                                                                    (hierarchical_identifier
                                                                                                      (simple_identifier)
                                                                                                      (simple_identifier))))))))
                                                                                        right: (expression
                                                                                          left: (expression
                                                                                            (primary
                                                                                              (function_subroutine_call
                                                                                                (subroutine_call
                                                                                                  (tf_call
                                                                                                    (hierarchical_identifier
                                                                                                      (simple_identifier)
                                                                                                      (simple_identifier)))))))
                                                                                          right: (expression
                                                                                            (primary
                                                                                              (hierarchical_identifier
                                                                                                (simple_identifier)))))))
                                                                                    (statement_or_null
                                                                                      (statement
                                                                                        (statement_item
                                                                                          (seq_block
                                                                                            (statement_or_null
                                                                                              (statement
                                                                                                (statement_item
                                                                                                  (subroutine_call_statement
                                                                                                    (function_subroutine_call
                                                                                                      (subroutine_call
                                                                                                        (tf_call
                                                                                                          (hierarchical_identifier
                                                                                                            (simple_identifier)
                                                                                                            (simple_identifier))
                                                                                                          (list_of_arguments
                                                                                                            (expression
                                                                                                              (primary
                                                                                                                (function_subroutine_call
                                                                                                                  (subroutine_call
                                                                                                                    (tf_call
                                                                                                                      (hierarchical_identifier
                                                                                                                        (simple_identifier)
                                                                                                                        (simple_identifier)))))))
                                                                                                            (expression
                                                                                                              (primary
                                                                                                                (function_subroutine_call
                                                                                                                  (subroutine_call
                                                                                                                    (tf_call
                                                                                                                      (hierarchical_identifier
                                                                                                                        (simple_identifier)
                                                                                                                        (simple_identifier))
                                                                                                                      (list_of_arguments
                                                                                                                        (expression
                                                                                                                          (primary
                                                                                                                            (primary_literal
                                                                                                                              (integral_number
                                                                                                                                (decimal_number
                                                                                                                                  (unsigned_number))))))))))))
                                                                                                            (expression
                                                                                                              (primary
                                                                                                                (hierarchical_identifier
                                                                                                                  (simple_identifier))))))))))))))))))))
                                                                            (statement_or_null
                                                                              (statement
                                                                                (statement_item
                                                                                  (subroutine_call_statement
                                                                                    (subroutine_call
                                                                                      (tf_call
                                                                                        (hierarchical_identifier
                                                                                          (simple_identifier))
                                                                                        (list_of_arguments
                                                                                          (expression
                                                                                            (primary
                                                                                              (hierarchical_identifier
                                                                                                (simple_identifier)))))))))))
                                                                            (statement_or_null
                                                                              (statement
                                                                                (statement_item
                                                                                  (subroutine_call_statement
                                                                                    (subroutine_call
                                                                                      (tf_call
                                                                                        (hierarchical_identifier
                                                                                          (simple_identifier)
                                                                                          (simple_identifier))
                                                                                        (list_of_arguments
                                                                                          (expression
                                                                                            (primary
                                                                                              (function_subroutine_call
                                                                                                (subroutine_call
                                                                                                  (tf_call
                                                                                                    (hierarchical_identifier
                                                                                                      (simple_identifier)
                                                                                                      (simple_identifier))
                                                                                                    (list_of_arguments
                                                                                                      (expression
                                                                                                        (primary
                                                                                                          (primary_literal
                                                                                                            (integral_number
                                                                                                              (decimal_number
                                                                                                                (unsigned_number))))))))))))
                                                                                          (expression
                                                                                            (primary
                                                                                              (hierarchical_identifier
                                                                                                (simple_identifier)
                                                                                                (simple_identifier))))
                                                                                          (expression
                                                                                            (primary
                                                                                              (mintypmax_expression
                                                                                                (expression
                                                                                                  left: (expression
                                                                                                    (primary
                                                                                                      (function_subroutine_call
                                                                                                        (subroutine_call
                                                                                                          (method_call
                                                                                                            (primary
                                                                                                              (hierarchical_identifier
                                                                                                                (simple_identifier)))
                                                                                                            (method_call_body
                                                                                                              name: (simple_identifier)))))))
                                                                                                  right: (expression
                                                                                                    (primary
                                                                                                      (hierarchical_identifier
                                                                                                        (simple_identifier))))))))
                                                                                          (expression
                                                                                            (primary
                                                                                              (hierarchical_identifier
                                                                                                (simple_identifier)))))))))))
                                                                            (statement_or_null
                                                                              (statement
                                                                                (statement_item
                                                                                  (seq_block
                                                                                    (block_item_declaration
                                                                                      (data_declaration
                                                                                        (data_type_or_implicit
                                                                                          (data_type
                                                                                            (simple_identifier)))
                                                                                        (list_of_variable_decl_assignments
                                                                                          (variable_decl_assignment
                                                                                            name: (simple_identifier)
                                                                                            (expression
                                                                                              (primary
                                                                                                (function_subroutine_call
                                                                                                  (subroutine_call
                                                                                                    (tf_call
                                                                                                      (hierarchical_identifier
                                                                                                        (simple_identifier)
                                                                                                        (simple_identifier)))))))))))
                                                                                    (statement_or_null
                                                                                      (statement
                                                                                        (statement_item
                                                                                          (subroutine_call_statement
                                                                                            (subroutine_call
                                                                                              (tf_call
                                                                                                (hierarchical_identifier
                                                                                                  (simple_identifier)
                                                                                                  (simple_identifier))
                                                                                                (list_of_arguments
                                                                                                  (expression
                                                                                                    (primary
                                                                                                      (hierarchical_identifier
                                                                                                        (simple_identifier)
                                                                                                        (simple_identifier))))
                                                                                                  (expression
                                                                                                    (primary
                                                                                                      (mintypmax_expression
                                                                                                        (expression
                                                                                                          left: (expression
                                                                                                            (primary
                                                                                                              (function_subroutine_call
                                                                                                                (subroutine_call
                                                                                                                  (method_call
                                                                                                                    (primary
                                                                                                                      (hierarchical_identifier
                                                                                                                        (simple_identifier)))
                                                                                                                    (method_call_body
                                                                                                                      name: (simple_identifier)))))))
                                                                                                          right: (expression
                                                                                                            (primary
                                                                                                              (hierarchical_identifier
                                                                                                                (simple_identifier))))))))
                                                                                                  (expression
                                                                                                    (primary
                                                                                                      (hierarchical_identifier
                                                                                                        (simple_identifier)))))))))))))))
                                                                            (statement_or_null
                                                                              (statement
                                                                                (statement_item
                                                                                  (subroutine_call_statement
                                                                                    (subroutine_call
                                                                                      (tf_call
                                                                                        (hierarchical_identifier
                                                                                          (simple_identifier)
                                                                                          (simple_identifier))
                                                                                        (list_of_arguments
                                                                                          (expression
                                                                                            (primary
                                                                                              (hierarchical_identifier
                                                                                                (simple_identifier))))
                                                                                          (expression
                                                                                            (primary
                                                                                              (hierarchical_identifier
                                                                                                (simple_identifier))))
                                                                                          (expression
                                                                                            (primary
                                                                                              (hierarchical_identifier
                                                                                                (simple_identifier)
                                                                                                (simple_identifier)))))))))))
                                                                            (statement_or_null
                                                                              (statement
                                                                                (statement_item
                                                                                  (conditional_statement
                                                                                    (cond_predicate
                                                                                      (expression
                                                                                        left: (expression
                                                                                          (primary
                                                                                            (function_subroutine_call
                                                                                              (subroutine_call
                                                                                                (tf_call
                                                                                                  (hierarchical_identifier
                                                                                                    (simple_identifier)
                                                                                                    (simple_identifier)))))))
                                                                                        right: (expression
                                                                                          (primary
                                                                                            (hierarchical_identifier
                                                                                              (simple_identifier))))))
                                                                                    (statement_or_null
                                                                                      (statement
                                                                                        (statement_item
                                                                                          (text_macro_usage
                                                                                            (simple_identifier)
                                                                                            (list_of_actual_arguments
                                                                                              (actual_argument
                                                                                                (param_expression
                                                                                                  (mintypmax_expression
                                                                                                    (expression
                                                                                                      (primary
                                                                                                        (primary_literal
                                                                                                          (string_literal
                                                                                                            (quoted_string
                                                                                                              (quoted_string_item)))))))))
                                                                                              (actual_argument
                                                                                                (param_expression
                                                                                                  (mintypmax_expression
                                                                                                    (expression
                                                                                                      (primary
                                                                                                        (concatenation
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (primary_literal
                                                                                                                (string_literal
                                                                                                                  (quoted_string
                                                                                                                    (quoted_string_item))))))
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (function_subroutine_call
                                                                                                                (subroutine_call
                                                                                                                  (tf_call
                                                                                                                    (hierarchical_identifier
                                                                                                                      (simple_identifier)
                                                                                                                      (simple_identifier)))))))
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (primary_literal
                                                                                                                (string_literal
                                                                                                                  (quoted_string
                                                                                                                    (quoted_string_item))))))
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (function_subroutine_call
                                                                                                                (subroutine_call
                                                                                                                  (system_tf_call
                                                                                                                    (system_tf_identifier)
                                                                                                                    (list_of_arguments
                                                                                                                      (expression
                                                                                                                        (primary
                                                                                                                          (primary_literal
                                                                                                                            (string_literal
                                                                                                                              (quoted_string
                                                                                                                                (quoted_string_item))))))
                                                                                                                      (expression
                                                                                                                        (primary
                                                                                                                          (function_subroutine_call
                                                                                                                            (subroutine_call
                                                                                                                              (tf_call
                                                                                                                                (hierarchical_identifier
                                                                                                                                  (simple_identifier)
                                                                                                                                  (simple_identifier))
                                                                                                                                (list_of_arguments
                                                                                                                                  (expression
                                                                                                                                    (primary
                                                                                                                                      (primary_literal
                                                                                                                                        (integral_number
                                                                                                                                          (decimal_number
                                                                                                                                            (unsigned_number))))))))))))))))))
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (primary_literal
                                                                                                                (string_literal
                                                                                                                  (quoted_string
                                                                                                                    (quoted_string_item))))))
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (function_subroutine_call
                                                                                                                (subroutine_call
                                                                                                                  (system_tf_call
                                                                                                                    (system_tf_identifier)
                                                                                                                    (list_of_arguments
                                                                                                                      (expression
                                                                                                                        (primary
                                                                                                                          (primary_literal
                                                                                                                            (string_literal
                                                                                                                              (quoted_string
                                                                                                                                (quoted_string_item))))))
                                                                                                                      (expression
                                                                                                                        (primary
                                                                                                                          (function_subroutine_call
                                                                                                                            (subroutine_call
                                                                                                                              (tf_call
                                                                                                                                (hierarchical_identifier
                                                                                                                                  (simple_identifier)
                                                                                                                                  (simple_identifier)))))))))))))))))))
                                                                                              (actual_argument
                                                                                                (param_expression
                                                                                                  (mintypmax_expression
                                                                                                    (expression
                                                                                                      (primary
                                                                                                        (hierarchical_identifier
                                                                                                          (simple_identifier))))))))))))
                                                                                    (statement_or_null
                                                                                      (statement
                                                                                        (statement_item
                                                                                          (text_macro_usage
                                                                                            (simple_identifier)
                                                                                            (list_of_actual_arguments
                                                                                              (actual_argument
                                                                                                (param_expression
                                                                                                  (mintypmax_expression
                                                                                                    (expression
                                                                                                      (primary
                                                                                                        (primary_literal
                                                                                                          (string_literal
                                                                                                            (quoted_string
                                                                                                              (quoted_string_item)))))))))
                                                                                              (actual_argument
                                                                                                (param_expression
                                                                                                  (mintypmax_expression
                                                                                                    (expression
                                                                                                      (primary
                                                                                                        (concatenation
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (primary_literal
                                                                                                                (string_literal
                                                                                                                  (quoted_string
                                                                                                                    (quoted_string_item))))))
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (function_subroutine_call
                                                                                                                (subroutine_call
                                                                                                                  (tf_call
                                                                                                                    (hierarchical_identifier
                                                                                                                      (simple_identifier)
                                                                                                                      (simple_identifier)))))))
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (primary_literal
                                                                                                                (string_literal
                                                                                                                  (quoted_string
                                                                                                                    (quoted_string_item))))))
                                                                                                          (expression
                                                                                                            (primary
                                                                                                              (function_subroutine_call
                                                                                                                (subroutine_call
                                                                                                                  (system_tf_call
                                                                                                                    (system_tf_identifier)
                                                                                                                    (list_of_arguments
                                                                                                                      (expression
                                                                                                                        (primary
                                                                                                                          (primary_literal
                                                                                                                            (string_literal
                                                                                                                              (quoted_string
                                                                                                                                (quoted_string_item))))))
                                                                                                                      (expression
                                                                                                                        (primary
                                                                                                                          (function_subroutine_call
                                                                                                                            (subroutine_call
                                                                                                                              (tf_call
                                                                                                                                (hierarchical_identifier
                                                                                                                                  (simple_identifier)
                                                                                                                                  (simple_identifier))
                                                                                                                                (list_of_arguments
                                                                                                                                  (expression
                                                                                                                                    (primary
                                                                                                                                      (primary_literal
                                                                                                                                        (integral_number
                                                                                                                                          (decimal_number
                                                                                                                                            (unsigned_number))))))))))))))))))))))))
                                                                                              (actual_argument
                                                                                                (param_expression
                                                                                                  (mintypmax_expression
                                                                                                    (expression
                                                                                                      (primary
                                                                                                        (hierarchical_identifier
                                                                                                          (simple_identifier))))))))))))))))
                                                                            (statement_or_null
                                                                              (statement
                                                                                (statement_item
                                                                                  (subroutine_call_statement
                                                                                    (subroutine_call
                                                                                      (tf_call
                                                                                        (hierarchical_identifier
                                                                                          (simple_identifier)
                                                                                          (simple_identifier))
                                                                                        (list_of_arguments
                                                                                          (expression
                                                                                            (primary
                                                                                              (hierarchical_identifier
                                                                                                (simple_identifier)))))))))))
                                                                            (statement_or_null
                                                                              (statement
                                                                                (statement_item
                                                                                  (subroutine_call_statement
                                                                                    (subroutine_call
                                                                                      (method_call
                                                                                        (primary
                                                                                          (hierarchical_identifier
                                                                                            (simple_identifier)))
                                                                                        (method_call_body
                                                                                          (array_or_queue_method_call
                                                                                            (array_or_queue_method_name)
                                                                                            (list_of_arguments
                                                                                              (expression
                                                                                                (primary
                                                                                                  (hierarchical_identifier
                                                                                                    (simple_identifier)))))))))))))))))))))
                                                            (statement_or_null
                                                              (statement
                                                                (statement_item
                                                                  (jump_statement)))))))))))))))))))
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (conditional_statement
                                      (cond_predicate
                                        (expression
                                          operator: (unary_operator)
                                          argument: (primary
                                            (hierarchical_identifier
                                              (simple_identifier)))))
                                      (statement_or_null
                                        (statement
                                          (statement_item
                                            (text_macro_usage
                                              (simple_identifier)
                                              (list_of_actual_arguments
                                                (actual_argument
                                                  (param_expression
                                                    (mintypmax_expression
                                                      (expression
                                                        (primary
                                                          (primary_literal
                                                            (string_literal
                                                              (quoted_string
                                                                (quoted_string_item)))))))))
                                                (actual_argument
                                                  (param_expression
                                                    (mintypmax_expression
                                                      (expression
                                                        (primary
                                                          (concatenation
                                                            (expression
                                                              (primary
                                                                (primary_literal
                                                                  (string_literal
                                                                    (quoted_string
                                                                      (quoted_string_item))))))
                                                            (expression
                                                              (primary
                                                                (function_subroutine_call
                                                                  (subroutine_call
                                                                    (tf_call
                                                                      (hierarchical_identifier
                                                                        (simple_identifier)
                                                                        (simple_identifier)))))))
                                                            (expression
                                                              (primary
                                                                (primary_literal
                                                                  (string_literal
                                                                    (quoted_string
                                                                      (quoted_string_item)))))))))))))))))))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (text_macro_usage
                                      (simple_identifier)
                                      (list_of_actual_arguments
                                        (actual_argument
                                          (param_expression
                                            (mintypmax_expression
                                              (expression
                                                (primary
                                                  (primary_literal
                                                    (string_literal
                                                      (quoted_string
                                                        (quoted_string_item)))))))))
                                        (actual_argument
                                          (param_expression
                                            (mintypmax_expression
                                              (expression
                                                (primary
                                                  (concatenation
                                                    (expression
                                                      (primary
                                                        (primary_literal
                                                          (string_literal
                                                            (quoted_string
                                                              (quoted_string_item))))))
                                                    (expression
                                                      (primary
                                                        (function_subroutine_call
                                                          (subroutine_call
                                                            (system_tf_call
                                                              (system_tf_identifier)
                                                              (list_of_arguments
                                                                (expression
                                                                  (primary
                                                                    (primary_literal
                                                                      (string_literal
                                                                        (quoted_string
                                                                          (quoted_string_item))))))
                                                                (expression
                                                                  (primary
                                                                    (hierarchical_identifier
                                                                      (simple_identifier))))))))))))))))
                                        (actual_argument
                                          (param_expression
                                            (mintypmax_expression
                                              (expression
                                                (primary
                                                  (hierarchical_identifier
                                                    (simple_identifier)))))))))))))))))))))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void)
            name: (simple_identifier)
            (tf_port_list
              (tf_port_item
                (data_type_or_implicit
                  (data_type
                    (simple_identifier)))
                name: (simple_identifier)))
            (block_item_declaration
              (data_declaration
                (data_type_or_implicit
                  (data_type))
                (list_of_variable_decl_assignments
                  (variable_decl_assignment
                    name: (simple_identifier)
                    (queue_dimension)))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (subroutine_call_statement
                      (subroutine_call
                        (method_call
                          (implicit_class_handle)
                          (method_call_body
                            name: (simple_identifier)
                            arguments: (list_of_arguments
                              (expression
                                (primary
                                  (hierarchical_identifier
                                    (simple_identifier)))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (loop_statement
                      (hierarchical_identifier
                        (simple_identifier))
                      (loop_variables
                        (simple_identifier))
                      (statement
                        (statement_item
                          (seq_block
                            (block_item_declaration
                              (data_declaration
                                (data_type_or_implicit
                                  (data_type
                                    (simple_identifier)))
                                (list_of_variable_decl_assignments
                                  (variable_decl_assignment
                                    name: (simple_identifier)
                                    (expression
                                      (primary
                                        (hierarchical_identifier
                                          (simple_identifier))))))))
                            (statement_or_null
                              (statement
                                (statement_item
                                  (subroutine_call_statement
                                    (subroutine_call
                                      (method_call
                                        (primary
                                          (hierarchical_identifier
                                            (simple_identifier)))
                                        (method_call_body
                                          (queue_method_call
                                            (queue_method_name)
                                            (list_of_arguments
                                              (expression
                                                (primary
                                                  (function_subroutine_call
                                                    (subroutine_call
                                                      (system_tf_call
                                                        (system_tf_identifier)
                                                        (list_of_arguments
                                                          (expression
                                                            (primary
                                                              (primary_literal
                                                                (string_literal
                                                                  (quoted_string
                                                                    (string_escape_seq)
                                                                    (quoted_string_item))))))
                                                          (expression
                                                            (primary
                                                              (function_subroutine_call
                                                                (subroutine_call
                                                                  (tf_call
                                                                    (hierarchical_identifier
                                                                      (simple_identifier)
                                                                      (simple_identifier))))))))))))))))))))))))))))))
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (conditional_statement
                      (cond_predicate
                        (expression
                          left: (expression
                            (primary
                              (function_subroutine_call
                                (subroutine_call
                                  (method_call
                                    (primary
                                      (hierarchical_identifier
                                        (simple_identifier)))
                                    (method_call_body
                                      (enum_or_associative_array_method_call
                                        (enum_or_associative_array_method_name))))))))
                          right: (expression
                            (primary
                              (primary_literal
                                (integral_number
                                  (decimal_number
                                    (unsigned_number))))))))
                      (statement_or_null
                        (statement
                          (statement_item
                            (seq_block
                              (statement_or_null
                                (statement
                                  (statement_item
                                    (text_macro_usage
                                      (simple_identifier)
                                      (list_of_actual_arguments
                                        (actual_argument
                                          (param_expression
                                            (mintypmax_expression
                                              (expression
                                                (primary
                                                  (primary_literal
                                                    (string_literal
                                                      (quoted_string
                                                        (quoted_string_item)))))))))
                                        (actual_argument
                                          (param_expression
                                            (mintypmax_expression
                                              (expression
                                                (primary
                                                  (function_subroutine_call
                                                    (subroutine_call
                                                      (system_tf_call
                                                        (system_tf_identifier)
                                                        (list_of_arguments
                                                          (expression
                                                            (primary
                                                              (primary_literal
                                                                (string_literal
                                                                  (quoted_string
                                                                    (quoted_string_item))))))
                                                          (expression
                                                            (primary
                                                              (function_subroutine_call
                                                                (subroutine_call
                                                                  (method_call
                                                                    (primary
                                                                      (hierarchical_identifier
                                                                        (simple_identifier)))
                                                                    (method_call_body
                                                                      (enum_or_associative_array_method_call
                                                                        (enum_or_associative_array_method_name))))))))
                                                          (expression
                                                            (text_macro_usage
                                                              (simple_identifier)
                                                              (list_of_actual_arguments
                                                                (actual_argument
                                                                  (param_expression
                                                                    (mintypmax_expression
                                                                      (expression
                                                                        (primary
                                                                          (hierarchical_identifier
                                                                            (simple_identifier)))))))))))))))))))))))))))))))))))))
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (one_line_comment)
    (class_item
      (class_method
        (method_qualifier)
        (function_declaration
          (function_body_declaration
            (data_type_or_void)
            name: (simple_identifier)
            (function_statement_or_null
              (function_statement
                (statement
                  (statement_item
                    (subroutine_call_statement
                      (subroutine_call
                        (method_call
                          (primary
                            (hierarchical_identifier
                              (simple_identifier)))
                          (method_call_body
                            (array_or_queue_method_call
                              (array_or_queue_method_name))))))))))))))))
